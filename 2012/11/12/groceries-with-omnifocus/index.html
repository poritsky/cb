
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How I Use OmniFocus to Buy Groceries (Now With More AppleScript) - the candler blog</title>
  <meta name="author" content="Jonathan Poritsky">

  
  <meta name="description" content="Even at my least productive, I have always used OmniFocus to organize my shopping lists. Sure, there are simpler, cheaper and more specifically &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.candlerblog.com/2012/11/12/groceries-with-omnifocus/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feedpress.me/candlerblog" rel="alternate" title="the candler blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<script type="text/javascript" src="//use.typekit.net/agp6cdf.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript" src="/javascripts/styleTweets.js"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4886664-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <script type="text/javascript">
  (function(){
    var fusion = document.createElement('script');
    fusion.src = window.location.protocol + '//adn.fusionads.net/api/1.0/ad.js?zoneid=252&rand=' + Math.floor(Math.random()*9999999);
    fusion.async = true;
    (document.head || document.getElementsByTagName('head')[0]).appendChild(fusion);
  })();</script>
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">the candler blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feedpress.me/candlerblog" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://next.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sites" value="candlerblog.com" />
    <input type="hidden" name="kj" value="#D45949"/>
    <input type="hidden" name="kf" value="-1"/>
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/projects">Projects</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="beforearticle">
<article class="hentry" role="article">
  
  <header>
    
  
      <h1 class="entry-title">How I Use OmniFocus to Buy Groceries (Now With More AppleScript)</h1>
    
    
    <p class="meta">
      








  


<time datetime="2012-11-12T14:45:00+00:00" pubdate data-updated="true">November 12<span>th</span>, 2012</time>&emsp;

<span class="categories">
  
    <a class='category' href='/blog/categories/productivity/'>Productivity</a>, <a class='category' href='/blog/categories/technology/'>Technology</a>
  
</span>


      
    </p>
  </header>


<div class="entry-content"><p>Even at my least productive, I have always used OmniFocus to organize my shopping lists. Sure, there are simpler, cheaper and more specifically attuned apps out there to help you at the grocery store, but I bought Omni’s GTD app thrice over and I want to get my money’s worth out of it.</p>

<p>A month or two ago I created a “Grocery Shopping” project template which I have been using in conjunction with a few contexts to get my shopping done a tad more efficiently. This past weekend I threw a perspective and an AppleScript into the mix. Basically I’ve taken (almost) every last bit of nuclear firepower hidden within OmniFocus to solve the problem of “why do I always forget to buy X?” Let me show you.</p>

<h3 id="template-hack">Template Hack</h3>

<p>David Sparks wrote the <a href="http://macsparky.com/2011/1/14/tweaking-omnifocus-project-template-applescript.html">definitive piece</a> on templating OmniFocus projects nearly a year ago. He gives a step-by-step on how to use Curt Clifton’s <a href="http://www.curtclifton.net/projects/">Populate Template Placeholders</a> script, but that’s overkill for what I need in a grocery list. In this case all we need is a blank project that we can duplicate when needed but is otherwise obscured from view. So here’s what we’ll do:<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>

<ol>
  <li>Create a new folder called “Templates”.</li>
  <li>Create a new Single Actions project in the “Templates” folder called “Grocery Shopping”.</li>
  <li>Right click the “Grocery Shopping” project and set it to “On Hold”.</li>
  <li>Right click the “Templates” folder and set it to “Dropped”.</li>
</ol>

<p>Be sure to bring your View Bar up in OmniFocus, as your project and folder will likely disappear once you change their status. Simply set your Project Filter to All Projects and you’ll see your dropped folder and on hold project. In the future we’re going to duplicate the “Grocery Shopping” project and make it an active project.<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p>

<h3 id="actions-all-the-way-down">Actions All the Way Down</h3>

<p>Next we’re going to take advantage of one of OmniFocus’s superb features: action groups. As The Omni Group’s manual puts it, action groups are “useful for keeping track of complicated projects, or breaking actions into smaller actions without creating a whole separate project.”</p>

<p>Grocery shopping isn’t <em>that</em> complicated, but it is relatively easy to break down into smaller actions. In our “Grocery Shopping” project (the one that’s still on hold), we’re going to first create actions for the aisles in the grocery store in the order in which you generally encounter them in the store. My list looks like this:</p>

<ul>
  <li>Produce</li>
  <li>Bakery</li>
  <li>Deli</li>
  <li>Meat</li>
  <li>Pantry</li>
  <li>Canned Goods</li>
  <li>Snacks</li>
  <li>Beverage</li>
  <li>Dairy</li>
</ul>

<p>These are organized pretty close to the way I navigate the big grocery stores near me, but your mileage may vary. Reorganize or add to these as necessary.</p>

<p>When it’s time to go grocery shopping, we’re going to duplicate this project and fill in our groceries as “child” actions to these aisle names. To make that easier the next time we start adding groceries, we’re just going to put blank child actions for these aisles. The quickest way to add a child action is to hit return, which creates a new action, then ^⌘→ (control + command + right arrow). Just do that under each action and you’ll eventually have a project that looks like this:</p>

<p><img class="center" src="/images/2012/11/grocery1.png" title="OmniFocus Blank Grocery Shopping Project" /></p>

<h3 id="contexts-ftw">Contexts FTW</h3>

<p>Now that we’ve got the bones of our project, let’s use some Contexts to flesh it out. Create a “Grocery Store” Context in OmniFocus. I like to keep this nested in a Context called “Errands,” but you can keep it wherever you like.</p>

<p>This next bit may seem like overkill, but I can’t be the only person who prefers to shop at more than one grocery store. I buy most of my food at a big national chain, but the things I really care about (produce, coffee, etc.) I get at a fancy-pants (-ish) health food store. And still some other ingredients I may need to seek out a farmer’s market, or head to the flagship Whole Foods here in Austin, or go to the <em>other</em> big chain here in Texas. All of that is to say I have a context for each store nested in my “Grocery Store” context.</p>

<p>Now, let’s go back to our “Grocery Shopping” project. Select all of the aisles, right click them and set their default context to your top-most “Grocery Store” context. This will make it so that any action you create in this project will be given the “Grocery Store” context. The advantage here is that as you populate all of your aisles with items you need to pick up, they will all show up in your “Grocery Store” context. From there you can look over the list and decide which store you want to get certain items at and move them into place.</p>

<h3 id="the-context-trick">The Context Trick</h3>

<p>There is some method to the madness of using a context at all beyond micro-managing where you buy bulk granola (as I do). See, your top-level actions, the aisles, won’t show up in your “Grocery Store” context view. You’ll only see the groceries you need <em>listed in aisle order</em>. This is especially useful when syncing with OmniFocus for iPhone.</p>

<p>Here’s a screenshot of my last grocery list in project view on my Mac:</p>

<p><img class="center" src="/images/2012/11/grocery2.png" title="OmniFocus Grocery Shopping Project Mac" /></p>

<p>And here’s the same list in the “Grocery Store” context on my iPhone:</p>

<p><img class="center" src="/images/2012/11/grocery3.png" title="OmniFocus Grocery Store Context iPhone" /></p>

<p>On the iPhone I have my view options set to “In Contexts, show: Available” so I don’t see the aisles listed. Now when I’m in the store I just walk from aisle to aisle, ticking off items as I go.</p>

<p>There is one final trick here though.</p>

<h3 id="calling-up-old-lists">Calling Up Old Lists</h3>

<p>Sometimes I honestly can’t think of a damn thing to buy at the store. Milk? Sure. Crackers? Um, anything else? The best guide for me is usually just my old lists, which should be easy enough to call up after they’re completed in OmniFocus, right? Not exactly.</p>

<p>OmniFocus, for whatever reason, is dreadful when it comes to searching projects by name. It can only search actions by name. The only way around this I could find is Rob Trew’s excellent <a href="http://www.complexpoint.macmate.me/Site/Quickly_find_an_OmniFocus_project.html">Find Project Fast AppleScript</a>. Trigger Rob’s script and a dialog box pops up, allowing you to search by project name. It’s impressive, but it takes a few too many steps since what I’m trying to do is repetitive. So I modified the script to open a new window showing completed actions for projects titled “Grocery Shopping”. This is done with the help of a Perspective in OmniFocus, also triggered by the AppleScript.</p>

<p>The first thing you should know about this AppleScript is that, without modification, it will <em>only</em> search for projects named “Grocery Shopping” and change the application’s perspective to “Grocery Lists”. There are instructions in the script itself for how to change those two parameters, but the easiest way to get this up and running is to keep your project and perspective names consistent with mine.</p>

<p>Show your Perspectives inspector in OmniFocus on your Mac by hitting ^⌘P (control + command + P). Create a new perspective called “Grocery Lists”. Set it as laid out in the screenshot below:</p>

<p><img class="center" src="/images/2012/11/grocery4.png" title="OmniFocus Grocery List Perspective" /></p>

<p>We only want to see completed tasks and projects, organized by completion date. That way when the AppleScript runs you’ll get a brand new window showing all of your old grocery lists with all of the completed tasks (stuff you bought) exposed.</p>

<p>I gave this modified version of Rob’s script a custom icon combining one of Omni’s own perspective icons with one of The Iconfactory’s <a href="http://iconfactory.com/freeware/preview/pickin">excellent produce icons</a>. To install it on your OmniFocus toolbar do is the following:</p>

<ol>
  <li>Download <a href="http://poritsky.com/phpatm/index.php?action=downloadfile&amp;filename=Groceries.scpt.zip&amp;directory=&amp;">Groceries.scpt.zip</a></li>
  <li>Copy Groceries.scpt to <code>~/Library/Scripts/Applications/OmniFocus</code></li>
  <li>Right click the OmniFocus toolbar and select “Customize Toolbar…” or go to the menu View &gt; Customize Toolbar…</li>
  <li>Drag <code>Script:Groceries</code> to the toolbar</li>
</ol>

<p>That’s it. Here’s what my the left side of my toolbar looks like now:</p>

<p><img class="center" src="/images/2012/11/grocery5.png" title="OmniFocus Groceries Toolbar Icon" /></p>

<p>Clicking the Groceries icon pops open a new window. As a semi-bonus, this will actually bring up the on hold Grocery Shopping template, making it a bit easier to duplicate, though there are some inelegant issues with doing it this way (you’ll see).</p>

<h3 id="next-steps">Next Steps</h3>

<p>Okay. That’s a whole lot on how I buy groceries. There’s a bit more to my food workflow I may share another time, but first I’d like to see if anyone out there can help make this workflow a bit simpler.</p>

<p>I’d love to see an AppleScript that takes active tasks from anywhere, even the inbox, and moves them into the appropriate aisle/action group. This way, I can throw food that I’d like to pick up when I have a chance anywhere in my OmniFocus database. For example, I could put “Get Yogurt” in the Inbox, and an AppleScript, or something, could move it to Grocery Shopping &gt; Dairy when triggered.</p>

<p>I don’t know if this is possible, but it would make this list creation even easier and, frankly, would be pretty darn neat.</p>

<p>Now, if you don’t mind, I’ve got some snacks to tend to.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Anything in quotes can be called whatever you like, but to keep things consistent through this demo I’ll be using the terminology I use in my OmniFocus database.<a href="#fnref:1" rel="reference">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>You can skip the dropped “Templates” folder if you like and simply keep “Grocery Shopping” as a top level project that is On Hold. I keep it in a dropped folder because I like to check in on my On Hold projects every once in awhile, and I don’t like seeing templates pop up. There are a few other ways to skin this cat but, you know, this is how I do it.<a href="#fnref:2" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>

  <footer>
    <!--<p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jonathan Poritsky</span></span>

      








  


<time datetime="2012-11-12T14:45:00+00:00" pubdate data-updated="true">November 12<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/productivity/'>Productivity</a>, <a class='category' href='/blog/categories/technology/'>Technology</a>
  
</span>


    </p>-->
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2012/11/09/hate-tweets/" title="Previous Post: Racist Teens Forced to Answer for Tweets">&laquo; Racist Teens Forced to Answer for Tweets</a>
      
      
        <a class="basic-alignment right" href="/2012/11/12/what-desgn-says-about-me/" title="Next Post: What Your Web Design Says About You">What Your Web Design Says About You &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
<p class=about-aside>The candler blog is a film theory and criticism (and other stuff) Web site by Jonathan Poritsky. You&#8217;re on it right now. Check out the <a href="http://feedpress.me/candlerblog">RSS</a> and <a href="https://twitter.com/thecandlerblog">Twitter</a> feeds to stay up to date. Now on App.net too: <a href='https://alpha.app.net/thecandlerblog' rel='me'><i class="icon-adn"></i></a></p>
</section><section>
  
<p><form action="https://next.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sites" value="candlerblog.com" />
    <input type="hidden" name="kj" value="#D45949"/>
    <input type="hidden" name="kf" value="-1"/>
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form></p>
  
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Jonathan Poritsky -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'candlerblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.candlerblog.com/2012/11/12/groceries-with-omnifocus/';
        var disqus_url = 'http://www.candlerblog.com/2012/11/12/groceries-with-omnifocus/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>










</body>
</html>
